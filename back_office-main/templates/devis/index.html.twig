{% extends 'base.html.twig' %}

{% block title %}Devis index{% endblock %}

{% block body %}

    <h1>Devis </h1>
    <div class="d-flex flex-column align-items-center">
        <a href="{{ path('app_devis_new') }}" class="btn btn-success mb-2">Créer</a>
        <a href=# class="btn btn-primary mb-2">Voir</a>
        <a href=# class="btn btn-warning mb-2">Modifier</a>
    </div>
    <style>
    
    *{
    margin: 0;
    background-color: var(--second-color);
    color: var(--main-color);
    font-family: 'PoliceContenu';
}

:root{
    --main-color : black;
    --second-color : white; 
    --background : #eedccf;
    --link-color:(138, 118, 103)edccf;
    --third-color : #fff7b6;
}

@font-face {
    font-family: 'PoliceTitre';
    src: url(/back_office/src/Css/Montserrat-VariableFont_wght.ttf);
}

@font-face {
    font-family: 'PoliceContenu';
    src: url(/back_office/src/Css/Akkurat.ttf);
}
a{
    color: var(--link-color);
}

button{
    font-family: 'PoliceContenu';
    border: none;
    padding: 10px;
    background-color: var(--main-color);
    color: var(--second-color);
    border-radius: 5px;
}

button:hover{
    background-color: var(--third-color);
    color: var(--main-color);
}
h1{
    font-family: 'PoliceTitre';
    color: var(--main-color);
    font-size : 50px;
    text-align: center;
    margin:50px auto;
}
    table {
    margin:150px auto;
    width: 80%;
    border-collapse: collapse;
    color: var(--color);
    font-size: 12px;
  text-align: right;
     position: fixed;
      right: 0;
      top: 0px;
}

th, td {
    padding: 8px;
    text-align: left;
    border: 1px solid var(--background);
    font-family: 'PoliceContenu';

}

th {
    background-color: var(--background);
    color: var(--second-color);
    font-family: 'PoliceTitre';
}

tr:nth-child(even) {
    background-color: var(--background);
}

td a{
    text-decoration: none;
}
    </style>
<table>
    <thead>
        <tr>
        <th>ID</th>
        <th>Reference</th>
        <th>Client_nom</th>
        <th>Client_adresse</th>
        <th>Client_email</th>
        <th>Date_devis</th>
        <th>Montant_total</th>
        <th>Description</th>
        <th>Duree_validite</th>
        <th>Statut</th>
        <th>Termes_conditions</th>
        <th>Informations_supplementaires</th>
    
            </tr>
        </thead>
        <tbody>
        {% for devi in devis %}
             <tr>
        <td>{{ devi.id }}</td>
        <td>{{ devi.reference }}</td>
        <td>{{ devi.clientNom }}</td>
        <td>{{ devi.clientAdresse }}</td>
        <td>{{ devi.clientEmail }}</td>
       <td>{{ devi.dateDevis ? devi.dateDevis|date('Y-m-d') : '' }}</td>
       <td>{{ devi.montantTotal }}</td>
       <td>{{ devi.description }}</td>
       <td>{{ devi.dureeValidite }}</td>
       <td>{{ devi.statut }}</td>
       <td>{{ devi.termesConditions }}</td>
       <td>{{ devi.informationsSupplementaires }}</td>
    </tr>
                
                    <a href="{{ path('app_devis_show', {'id': devi.id}) }}">show</a>
                    <a href="{{ path('app_devis_edit', {'id': devi.id}) }}">edit</a>
             
        {% else %}
            <tr>
                <td colspan="13">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_devis_new') }}">Créer</a>
{% endblock %}
